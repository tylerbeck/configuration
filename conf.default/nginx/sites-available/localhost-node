##
# Default NodeJS Localhost Server
##
server {
	listen 80;
	server_name node.localhost;

	#location ~ ^/(assets/|js/|img/|css/|media/|robots.txt|humans.txt|favicon.ico) {
	#	root /Users/tylerbeck/Projects/localhost;
	#	access_log off;
	#}
	
	## deny access to apache ".ht*" files
	location ~ /\.ht {
		deny  all;
	}

	location / {
	
		proxy_redirect off;
		proxy_set_header   X-Real-IP           $remote_addr;
		proxy_set_header   X-Forwarded-Host    $host;
		proxy_set_header   X-Forwarded-For     $proxy_add_x_forwarded_for;
		proxy_set_header   X-Forwarded-Proto   $scheme;
		proxy_set_header   X-Forwarded-Server  $host;
		proxy_set_header   Host                $http_host;
		proxy_set_header   X-NginX-Proxy       true;
		proxy_set_header   Upgrade             $http_upgrade;
		#proxy_set_header   Connection          $connection_upgrade;
		proxy_http_version 1.1;
	
		proxy_pass http://localhost:3000;
		
	}
}

